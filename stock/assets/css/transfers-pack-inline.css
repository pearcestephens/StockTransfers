/*
 * File: assets/css/stock-transfers/transfers-pack-inline.css
 * Purpose: Extracted pageâ€‘scoped styles from pack.php to reduce inline bloat and keep PHP lean.
 * Scope: Only applies to transfer pack page (body[data-page='transfer-pack']).
 * Author: Automated refactor
 * Last Modified: 2025-09-26
 */

/* Draft Status Pill Component */
.draft-status-pill { --pill-idle-bg:#f1f3f5; --pill-idle-fg:#495057; --pill-saving-bg:#fff3cd; --pill-saving-fg:#856404; --pill-saved-bg:#f1f5f9; --pill-saved-fg:#334155; --pill-error-bg:#ffe3e3; --pill-error-fg:#c92a2a; --pill-shadow:inset 0 0 0 1px rgba(0,0,0,.06),0 1px 1px rgba(0,0,0,.04); appearance:none; border:0; background:var(--pill-idle-bg); color:var(--pill-idle-fg); font-size:12px; font-weight:600; letter-spacing:.5px; padding:4px 10px 4px 8px; border-radius:999px; display:inline-flex; align-items:center; gap:6px; cursor:default; position:relative; line-height:1.2; box-shadow:var(--pill-shadow); transition:background-color .18s ease,color .18s ease,box-shadow .18s ease; }
.draft-status-pill .pill-icon { width:10px; height:10px; border-radius:50%; background:#adb5bd; display:inline-block; position:relative; }
.draft-status-pill.status-idle .pill-icon { background:#adb5bd; }
.draft-status-pill.status-saving { background:var(--pill-saving-bg); color:var(--pill-saving-fg); }
.draft-status-pill.status-saving .pill-icon { background:#f0ad4e; animation:pulse 1.2s ease-in-out infinite; }
.draft-status-pill.status-saved { background:#f1f5f9; color:#334155; }
.draft-status-pill.status-saved .pill-icon { background:#4f46e5; }
.draft-status-pill.status-error { background:var(--pill-error-bg); color:var(--pill-error-fg); }
.draft-status-pill.status-error .pill-icon { background:#c92a2a; }
@keyframes pulse { 0%,100%{ transform:scale(.9); opacity:.85;} 50%{ transform:scale(1); opacity:1;} }
@media (prefers-contrast: more) { .draft-status-pill { box-shadow:inset 0 0 0 2px rgba(0,0,0,.35); } }

/* Remove button */
body[data-page='transfer-pack'] .tfx-remove-btn { --btn-size:26px; width:var(--btn-size); height:var(--btn-size); padding:0; border-radius:6px; border:1px solid #ced4da; background:#fff; color:#6c757d; display:inline-flex; align-items:center; justify-content:center; line-height:1; font-size:13px; cursor:pointer; transition:background-color .12s ease,color .12s ease,border-color .12s ease,box-shadow .12s ease; }
body[data-page='transfer-pack'] .tfx-remove-btn:hover { background:#ffecec; border-color:#f5b5b5; color:#c92a2a; }
body[data-page='transfer-pack'] .tfx-remove-btn:focus-visible { outline:2px solid #c92a2a; outline-offset:2px; box-shadow:0 0 0 2px rgba(201,42,42,.35); }
body[data-page='transfer-pack'] .tfx-remove-btn:active { background:#ffd6d6; color:#a61e1e; }
body[data-page='transfer-pack'] .tfx-remove-btn i { pointer-events:none; }
@media print { body[data-page='transfer-pack'] .tfx-remove-btn { display:none !important; } }

/* Flash animations */
.flash-added { animation:flashAdded 1.1s ease-in-out; }
.flash-existing { animation:flashExisting 1.1s ease-in-out; }
@keyframes flashAdded { 0% { background:#e3f8eb; } 55%,100% { background:#ffffff; } }
@keyframes flashExisting { 0% { background:#fff3cd; } 55%,100% { background:#ffffff; } }

/* Search area */
#product-search-run.is-loading { pointer-events:none; opacity:.65; }
.ps-badge-out { display:inline-block; background:#f8d7da; color:#a61e1e; border:1px solid #f1b0b7; font-size:11px; line-height:1.1; padding:2px 6px; border-radius:12px; font-weight:600; letter-spacing:.25px; }
#product-search-table thead th:nth-child(4) { text-align:center !important; }
.sr-only { position:absolute !important; width:1px !important; height:1px !important; padding:0 !important; margin:-1px !important; overflow:hidden !important; clip:rect(0 0 0 0) !important; white-space:nowrap !important; border:0 !important; }
#product-search-wrapper { background:linear-gradient(#ffffff,#fafbfc); border:1px solid #e2e6ea; border-radius:4px; padding:6px 12px 10px; position:sticky; top:0; z-index:12; }
#product-search-wrapper .form-control { min-width:200px; }
#transfer-main-card > .card-header { border-bottom:0 !important; }
#product-search-tbody.ps-loading tr, #product-search-tbody.ps-loading td { transition:opacity .18s ease; opacity:.45; }

/* Action buttons */
.tfx-action-buttons { display:flex; align-items:center; gap:12px; }
.tfx-btn { --btn-radius:14px; --btn-font:14px; --btn-pad-y:10px; --btn-pad-x:20px; --btn-shadow:0 2px 4px rgba(0,0,0,.12),0 4px 10px -4px rgba(0,0,0,.18); border:0; border-radius:var(--btn-radius); font-weight:600; letter-spacing:.35px; font-size:var(--btn-font); padding:var(--btn-pad-y) var(--btn-pad-x); line-height:1.1; display:inline-flex; gap:10px; align-items:center; justify-content:center; cursor:pointer; position:relative; text-shadow:none; transition:background .18s ease, box-shadow .18s ease, transform .15s ease, color .18s ease; }
.tfx-btn:focus-visible { outline:2px solid #1e3a8a; outline-offset:3px; }
.tfx-btn-primary { background:linear-gradient(92deg,#2563eb,#1d4ed8); color:#fff; box-shadow:var(--btn-shadow); }
.tfx-btn-primary:hover { background:linear-gradient(92deg,#1d4ed8,#1e40af); }
.tfx-btn-primary:active { transform:translateY(1px); box-shadow:0 1px 2px rgba(0,0,0,.2); }
.tfx-btn-ghost { background:#f1f5f9; color:#334155; box-shadow:inset 0 0 0 1px #d6dbe1; }
.tfx-btn-ghost:hover { background:#e2e8f0; }
.tfx-btn-ghost:active { background:#d9e0e8; }
.tfx-btn[disabled], .tfx-btn.disabled { opacity:.45; cursor:not-allowed; box-shadow:none; }
.tfx-btn .tfx-btn-icon { font-size:15px; line-height:1; }
.tfx-btn.is-busy { pointer-events:none; }
.tfx-btn.is-busy .tfx-btn-icon { animation:tfxspin 1s linear infinite; }
@keyframes tfxspin { to { transform:rotate(360deg); } }
.tfx-btn-primary::after { content:''; position:absolute; inset:0; border-radius:inherit; box-shadow:0 0 0 0 rgba(255,255,255,.4); opacity:0; transition:box-shadow .4s ease, opacity .4s ease; }
.tfx-btn-primary:hover::after { opacity:1; box-shadow:0 0 0 4px rgba(255,255,255,.15); }
.tfx-btn-primary:active::after { opacity:0; box-shadow:0 0 0 0 rgba(255,255,255,0); transition:none; }
.tfx-btn-ghost:focus-visible { outline:2px solid #334155; outline-offset:3px; }

.tfx-pack-toolbar { display:flex; flex-wrap:wrap; align-items:center; gap:14px; margin:0 0 6px 0; padding:0 2px; }
.tfx-pack-toolbar .draft-status-pill { margin:0; }
.tfx-pack-toolbar .tfx-pack-saved { font-size:12px; color:#64748b; }
.tfx-pack-toolbar .tfx-stats { display:flex; flex-wrap:wrap; align-items:center; gap:14px; margin-left:auto; font-size:13px; }
.tfx-pack-toolbar .tfx-stats span strong { font-weight:600; }
.tfx-pack-toolbar .tfx-diff-negative { color:#d9480f; }
.tfx-pack-toolbar .tfx-diff-positive { color:#2f6d31; }

/* Image preview overlay */
.ps-img-overlay { position:fixed; inset:0; background:rgba(15,23,42,.72); backdrop-filter:blur(2px); display:flex; align-items:center; justify-content:center; padding:40px 30px; z-index:2000; }
.ps-img-overlay.d-none { display:none !important; }
.ps-img-overlay__inner { position:relative; max-width:520px; max-height:80vh; box-shadow:0 10px 28px -5px rgba(0,0,0,.45),0 4px 12px -2px rgba(0,0,0,.3); border-radius:10px; overflow:hidden; background:#fff; }
.ps-img-overlay__inner img { display:block; max-width:100%; height:auto; object-fit:contain; }
.ps-img-overlay__close { position:absolute; top:6px; right:6px; border:0; background:rgba(0,0,0,.55); color:#fff; width:34px; height:34px; border-radius:8px; cursor:pointer; display:flex; align-items:center; justify-content:center; font-size:16px; }
.ps-img-overlay__close:hover { background:rgba(0,0,0,.7); }
@media (max-width:640px){ .ps-img-overlay__inner { max-width:92vw; } }
